<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/template.xhtml">
	
	<ui:define name="head">
		<h:outputStylesheet library="webjars" name="codemirror/4.8/lib/codemirror.css"/>
		<h:outputStylesheet library="webjars" name="codemirror/4.8/addon/hint/show-hint.css"/>
		<h:outputScript library="webjars" name="codemirror/4.8/lib/codemirror.js"/>
		<h:outputScript library="webjars" name="codemirror/4.8/addon/mode/simple.js"/>
		<h:outputScript library="webjars" name="codemirror/4.8/addon/hint/show-hint.js"/>
		<h:outputScript library="portfolio" name="editor/pwatch.js"/>
	</ui:define>
	
	<ui:define name="body">
		<h:form>
		<p:tabView>
			<p:tab title="Einfach">
			</p:tab>
			
			<p:tab title="Erweitert">
				<h:panelGrid columns="2" cellpadding="10">		
					<p:outputLabel for="stock" value="Wähle Aktie: " style="padding: 10px;"/>
					<p:selectOneMenu id="stock" value="#{watchBean.stock}" style="width:200px"
						converter="#{stockConverter}"
						required="true" requiredMessage="Bitte auswählen!">
						<f:selectItem itemLabel="Bitte auswählen" itemValue="#{null}" />
						<f:selectItems value="#{stockItems}"/>
					</p:selectOneMenu>
				</h:panelGrid>
				
				<h:inputTextarea id="watch-editor" value="#{watchBean.watchExpression}" />
			</p:tab>
		</p:tabView>
		
		</h:form>
		
		
		<script>
			//<![CDATA[
			
			CodeMirror.fromTextArea(document.getElementById("#{p:component('watch-editor')}"), {
				lineNumbers: false,
		        extraKeys: {"Ctrl-Space": "autocomplete"},
				mode: "pwatch"
			});
			
			//]]>
		</script>
	</ui:define>
	
</ui:composition>
