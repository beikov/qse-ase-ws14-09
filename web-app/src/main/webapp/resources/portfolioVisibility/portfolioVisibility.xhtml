<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:composite="http://java.sun.com/jsf/composite">

<composite:interface>
	<composite:attribute name="visibilitySettings" />
</composite:interface>

<composite:implementation>
	<h:form>
		<h:outputText value="Sichtbarkeit" />

		<h:panelGrid columns="2" cellpadding="5">
			<h:outputText value="Ã–ffentlich sichtbar: " />
			<p:inputSwitch id="publicSwitch"
				value="#{cc.attrs.visibilitySettings.publicVisible}" onLabel="an" offLabel="aus" immediate="true"  >
					<p:ajax event="change" update="statisticsSwitch historySwitch valuePaperSwitch" />
			</p:inputSwitch>

			<h:outputText value="Statistiken sichtbar: " />
			<p:inputSwitch id="statisticsSwitch"
					value="#{cc.attrs.visibilitySettings.statisticsVisible}" onLabel="an" offLabel="aus" disabled="#{!portfolioCreationViewBean.portfolio.visibility.publicVisible}"/>

			<h:outputText value="Geschichte sichtbar: " />
			<p:inputSwitch id="historySwitch"
						value="#{cc.attrs.visibilitySettings.historyVisible}" onLabel="an" offLabel="aus" disabled="#{!portfolioCreationViewBean.portfolio.visibility.publicVisible}"/>
				
			<h:outputText value="Wertpapiere sichtbar: " />
			<p:inputSwitch id="valuePaperSwitch"
						value="#{cc.attrs.visibilitySettings.valuePaperListVisible}" onLabel="an" offLabel="aus" disabled="#{!portfolioCreationViewBean.portfolio.visibility.publicVisible}"/>
		</h:panelGrid>
	</h:form>
</composite:implementation>

</html>